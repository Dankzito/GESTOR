<%- include('layout', { title: 'Profesores' }) %>

  <div class="card">
    <h2>Gestor de Profesores</h2>
    <p style="color: #7f8c8d; margin-bottom: 20px;">
      Lista de profesores registrados en el sistema. El administrador puede validarlos y asignarles materia desde el panel de administración.
    </p>

        <table class="tabla">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Email</th>
              <th>Materia</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <% profesores.forEach(p=> { %>
              <tr>
                <td>
                  <%= p.nombre %>
                </td>
                <td>
                  <%= p.email %>
                </td>
                <td>
                  <% if (p.materia_nombre) { %>
                    <span style="color: #2980b9; font-weight: 600;"><%= p.materia_nombre %></span>
                  <% } else { %>
                    <span style="color: #95a5a6;">Sin materia asignada</span>
                  <% } %>
                </td>
                <td>
                  <% if (p.validated) { %>
                    <span class="badge badge-validated">✓ Validado</span>
                  <% } else { %>
                    <span class="badge badge-pending">⏳ Pendiente</span>
                  <% } %>
                </td>
                <td>
                  <% if (user.role==='admin' ) { %>
                    <a href="/admin" class="link-btn">Gestionar</a>
                    <% } %>
                </td>
              </tr>
              <% }) %>
          </tbody>
        </table>
  </div>

  <style>
    .badge {
        padding: 4px 10px;
        border-radius: 12px;
        font-size: 0.85rem;
        font-weight: 600;
        display: inline-block;
    }
    .badge-validated {
        background: rgba(46, 204, 113, 0.2);
        color: #27ae60;
        border: 1px solid #27ae60;
    }
    .badge-pending {
        background: rgba(243, 156, 18, 0.2);
        color: #f39c12;
        border: 1px solid #f39c12;
    }
  </style>

  <%- include('footer') %>